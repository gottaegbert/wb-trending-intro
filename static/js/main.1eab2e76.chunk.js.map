{"version":3,"sources":["Overlay.js","App.js","index.js"],"names":["Overlay","ready","clicked","setClicked","className","onClick","Carla2","props","scene","useGLTF","object","Carla","VideoText","useState","myMesh","React","useRef","Object","assign","document","createElement","src","crossOrigin","loop","video","useEffect","play","useFrame","a","clock","getElapsedTime","current","rotation","x","Text","font","fontSize","letterSpacing","toneMapped","attach","args","encoding","THREE","ref","up","Ground","useTexture","floor","normal","Reflector","resolution","mirror","mixBlur","mixStrength","Math","PI","blur","Material","color","metalness","roughnessMap","normalMap","normalScale","Intro","start","set","vec","setTimeout","state","camera","position","lerp","mouse","y","lookAt","App","setReady","store","shadowMap","concurrent","gl","alpha","pixelRatio","fov","fallback","castShadow","scale","receiveShadow","intensity","shadow-mapSize-height","shadow-mapSize-width","render","querySelector"],"mappings":"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","file":"static/js/main.1eab2e76.chunk.js","sourcesContent":["import React from 'react'\n// import { Footer } from '@pmndrs/branding'\n\nexport default function Overlay({ ready, clicked, setClicked }) {\n  return (\n    <>\n      <div className={`fullscreen bg ${ready ? 'ready' : 'notready'} ${clicked && 'clicked'}`}>\n        <div onClick={() => ready && setClicked(true)}>{!ready ? 'loading' : 'click to continue'}</div>\n      </div>\n      {/* <Footer\n        date=\"6.3\"\n        year=\"2021\"\n        link1={<a href=\"https://github.com/pmndrs/drei\">@gottaegbert</a>}\n        link2={<a href=\"https://codesandbox.io/s/drei-reflector-bfplr\">weibotrending</a>}\n      /> */}\n    </>\n  )\n}\n","import * as THREE from 'three'\nimport React, { Suspense, useEffect, useState } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { Reflector, Text, useTexture, useGLTF } from '@react-three/drei'\n// import { useSpring, animated,config } from '@react-spring/three'\nimport Overlay from './Overlay'\n\n\nfunction Carla2(props) {\n  const { scene } = useGLTF('/model.glb')\n  return <primitive object={scene} {...props} />\n}\nfunction Carla(props) {\n  const { scene } = useGLTF('/carla-draco.glb')\n  return <primitive object={scene} {...props} />\n}\n// function Weibo(props) {\n//   const { scene } = useGLTF('/weibo-model.gltf')\n//   return <primitive object={scene}  {...props} />\n// }\n\n// console.log(Weibo)\n\nfunction VideoText({ clicked, ...props }) {\n  const [active, setActive] = useState(false);\n  // const { scale } = useSpring({\n  //   scale: active ? 1.5 : 1,\n  //   config: config.wobbly\n  // })\n  const myMesh = React.useRef();\n  const [video] = useState(() => Object.assign(document.createElement('video'), { src: '/final.mp4', crossOrigin: 'Anonymous', loop: true }))\n  useEffect(() => void (clicked && video.play()), [video, clicked])\n  useFrame(({ clock }) => {\n    const a = clock.getElapsedTime();\n    myMesh.current.rotation.x = a;\n  });\n  return (\n    <Text font=\"/Alibaba-PuHuiTi-H.ttf\" fontSize={1} letterSpacing={0.1} {...props}>\n     数字情绪\n      <meshBasicMaterial toneMapped={false}>\n        <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding} />\n      </meshBasicMaterial>\n      <Text  ref={myMesh} font=\"/Alibaba-PuHuiTi-H.ttf\" fontSize={2} up={1 }letterSpacing={-0.1} {...props}>\n         Social Netword\n        <meshBasicMaterial toneMapped={false}>\n          <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding} />\n        </meshBasicMaterial>\n      </Text>\n    </Text>\n    \n  )\n}\n\nfunction Ground() {\n  const [floor, normal] = useTexture(['/SurfaceImperfections003_1K_var1.jpg', '/SurfaceImperfections003_1K_Normal.jpg'])\n  return (\n    <Reflector resolution={512} args={[10, 10]} mirror={0.4} mixBlur={8} mixStrength={9} rotation={[-Math.PI / 2, 0, Math.PI / 2]} blur={[400, 100]}>\n      {(Material, props) => <Material color=\"#6F6F6F\" metalness={0.4} roughnessMap={floor} normalMap={normal} normalScale={[1, 1]} {...props} />}\n    </Reflector>\n  )\n}\n\nfunction Intro({ start, set }) {\n  const [vec] = useState(() => new THREE.Vector3())\n  \n  useEffect(() => setTimeout(() => set(true), 500), [])\n  return useFrame((state) => {\n    if (start) {\n      state.camera.position.lerp(vec.set(state.mouse.x * 10, 3 + state.mouse.y * 2.4, 13), 0.05)\n      state.camera.lookAt(0, 1, 0)\n    }\n  })\n}\n\nexport default function App() {\n  const [clicked, setClicked] = useState(false)\n  const [ready, setReady] = useState(false)\n  const store = { clicked, setClicked, ready, setReady }\n  return (\n    <>\n      <Canvas  shadowMap concurrent gl={{ alpha: false }} pixelRatio={[1, 1.5]} camera={{ position: [0, 3, 160], fov: 25 }}>\n        <color attach=\"background\" args={['black']} />\n        <fog attach=\"fog\" args={['black', 15, 20]} />\n        <Suspense fallback={null}>\n          <group position={[0, -1, 0]}>\n            <Carla2 castShadow  rotation={[0, Math.PI + 0.4, 0]} position={[1.2, 0, 0]} scale={[0.46, 0.46, 0.46]}  />\n            {/* <Weibo position={[1.2, 0, 0]}/>  */}\n            <Carla rotation={[0, Math.PI - 0.4, 0]} position={[-1.2, 0, 0]} scale={[0.26, 0.26, 0.26]} />\n            <VideoText {...store} position={[0, 2.3, -2]} />\n            <Ground receiveShadow/>\n          </group>\n          <ambientLight intensity={2.5} />\n          <spotLight position={[0, 10, 0]} intensity={1.3} />\n          <directionalLight castShadow\n            shadow-mapSize-height={512}\n            shadow-mapSize-width={512}\n            position={[-20, 0, -10]} intensity={1.7} />\n          {/* <spotLight position={[0, 0, -10]} intensity={1.7} lookAt={0,10,0}/> */}\n          <Intro start={ready && clicked} set={setReady} />\n        </Suspense>\n      </Canvas>\n      <Overlay {...store} />\n    </>\n  )\n}\n","import { render } from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './styles.css'\n\nrender(<App />, document.querySelector('#root'))\n"],"sourceRoot":""}